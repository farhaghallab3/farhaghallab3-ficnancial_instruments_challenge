(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[503],{232:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/exchange",function(){return n(2174)}])},2174:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var a=n(4848),r=n(6540),s=n(1745),c=n(3368),o=n.n(c);function l(){var e;let t="http://localhost:3001",[n,c]=(0,r.useState)([]),[l,i]=(0,r.useState)(""),[d,h]=(0,r.useState)([]),[u,m]=(0,r.useState)(""),[x,g]=(0,r.useState)(!1),[p,b]=(0,r.useState)({_index:"",_type:"",_id:"",_score:0,_source:{symbol:"",ticker:"",code:"",isin:"",type:"",wpkn:"",name:"",nameLong:"",region:"",country:"",currency:"",figi:"",cik:"",lei:"",source:"",operatingMIC:"",codeExchange:"",virtualExchange:"",nameExchange:"",isArtificialExchange:!1,segmentExchange:"",segmentNameExchange:""}});(0,r.useEffect)(()=>{fetch("".concat(t,"/exchange")).then(e=>e.json()).then(e=>{var t,n;let a=(null===(n=e.hits)||void 0===n?void 0:null===(t=n.hits)||void 0===t?void 0:t.map(e=>({_index:e._index||"N/A",_type:e._type||"_doc",_id:e._id||"N/A",_score:e._score||0,_source:e._source||{}})))||[];c(a),h(a)}).catch(e=>console.error("Error fetching exchange data:",e))},[]);let y=e=>{let{name:t,value:n}=e.target;if(t.startsWith("_source.")){let e=t.split(".")[1];b(t=>({...t,_source:{...t._source,[e]:n}}))}else b(e=>({...e,[t]:n}))},j=e=>{i(e),""===e?h(n):h(n.filter(t=>{var n;return(null===(n=t._source.country)||void 0===n?void 0:n.toLowerCase())===e.toLowerCase()}))},f=[...new Set(n.map(e=>e._source.country))],_=["_index","_type","_id","_score",...Object.keys((null===(e=n[0])||void 0===e?void 0:e._source)||{})];return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 p-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-blue-500 mb-6",children:"B\xf6rsen-Daten"}),(0,a.jsx)("link",{rel:"canonical",href:"http://localhost:3000/exchange"}),(0,a.jsxs)(o(),{children:[(0,a.jsx)("title",{children:"B\xf6rsen-Daten | Finanzinstrumente Dashboard"}),(0,a.jsx)("meta",{name:"description",content:"Sehen Sie B\xf6rsendaten, analysieren Sie Finanzinformationen und f\xfcgen Sie neue Daten hinzu."}),(0,a.jsx)("meta",{name:"keywords",content:"B\xf6rsen-Daten, Finanzdaten, Finanzinstrumente, Dashboard"}),(0,a.jsx)("meta",{name:"robots",content:"index, follow"}),(0,a.jsx)("meta",{property:"og:title",content:"B\xf6rsen-Daten | Finanzinstrumente Dashboard"}),(0,a.jsx)("meta",{property:"og:description",content:"Sehen Sie B\xf6rsendaten und analysieren Sie Finanzdaten einfach und schnell."}),(0,a.jsx)("meta",{property:"og:type",content:"website"}),(0,a.jsx)("meta",{property:"og:url",content:"http://localhost:3000/exchange"}),(0,a.jsx)("meta",{property:"og:image",content:"/path-to-image.png"}),(0,a.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,a.jsx)("meta",{name:"twitter:title",content:"B\xf6rsen-Daten | Finanzinstrumente Dashboard"}),(0,a.jsx)("meta",{name:"twitter:description",content:"Sehen Sie B\xf6rsendaten und analysieren Sie Finanzdaten einfach und schnell."}),(0,a.jsx)("meta",{name:"twitter:image",content:"/path-to-image.png"})]}),(0,a.jsx)("button",{onClick:()=>g(!0),className:"bg-blue-500 text-white px-4 py-2 rounded shadow hover:bg-blue-700 transform hover:scale-105 transition-all",children:"+"})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{htmlFor:"search-input",className:"sr-only",children:"Search through exchange data"}),(0,a.jsx)("input",{id:"search-input",type:"text",placeholder:"Nach Name suchen...",value:u,onChange:e=>{let t=e.target.value.toLowerCase();m(t),h(n.filter(e=>JSON.stringify(e).toLowerCase().includes(t)))},className:"border p-2 rounded w-full","aria-label":"Search through exchange data"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("label",{htmlFor:"country-filter",className:"font-bold text-gray-700",children:"Filtern nach Land:"}),(0,a.jsxs)("select",{value:l,onChange:e=>j(e.target.value),className:"border p-2 rounded bg-white text-gray-600 shadow-sm","aria-label":"Filter by country",children:[(0,a.jsx)("option",{value:"",children:"All Countries"}),f.map((e,t)=>(0,a.jsx)("option",{value:e,children:e||"Unknown"},t))]})]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"table-auto w-full bg-white shadow-md rounded-lg",children:[(0,a.jsx)("thead",{children:(0,a.jsx)("tr",{className:"bg-blue-500 text-white",children:_.map((e,t)=>(0,a.jsx)("th",{className:"px-4 py-2",children:e.toUpperCase()},t))})}),(0,a.jsx)("tbody",{children:d.length>0?d.map((e,t)=>(0,a.jsx)("tr",{className:"border-b hover:bg-blue-100",children:_.map((t,n)=>(0,a.jsx)("td",{className:"px-4 py-2",children:t in e._source?e._source[t]||"N/A":e[t]||"N/A"},n))},t)):(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:_.length,className:"text-center text-gray-500 py-4",children:"No data found."})})})]})}),x&&(0,a.jsx)(s.Ay,{children:(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-800 bg-opacity-50 flex justify-center items-center","aria-modal":"true",role:"dialog",children:(0,a.jsxs)("div",{className:"bg-white p-6 rounded shadow-lg w-96 max-h-[80vh] overflow-y-auto",children:[(0,a.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Neue B\xf6rsen-Daten hinzuf\xfcgen"}),(0,a.jsx)("div",{className:"space-y-4",children:Object.entries(p).map(e=>{let[t,n]=e;return"_source"===t?Object.entries(p._source).map(e=>{let[t,n]=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block font-medium text-gray-700 mb-2",children:t.toUpperCase()}),(0,a.jsx)("input",{type:"text",name:"_source.".concat(t),placeholder:"Enter ".concat(t),value:n,onChange:y,className:"w-full border p-2 rounded","aria-label":"Input for ".concat(t)})]},t)}):(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block font-medium text-gray-700 mb-2",children:t.toUpperCase()}),(0,a.jsx)("input",{type:"text",name:t,placeholder:"Enter ".concat(t),value:n,onChange:y,className:"w-full border p-2 rounded","aria-label":"Input for ".concat(t)})]},t)})}),(0,a.jsxs)("div",{className:"flex justify-end mt-4",children:[(0,a.jsx)("button",{onClick:()=>g(!1),className:"bg-gray-300 text-gray-700 px-4 py-2 rounded mr-2 hover:bg-gray-400 transform hover:scale-105 transition-all",children:"Cancel"}),(0,a.jsx)("button",{onClick:()=>{let e={...p,_id:p._id||"N/A",_source:{...Object.entries(p._source).reduce((e,t)=>{let[n,a]=t;return e[n]=a||"N/A",e},{})}},a=[...n,e];c(a),h(a),fetch("".concat(t,"/exchange"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>e.json()).then(()=>console.log("New exchange entry added successfully.")).catch(e=>console.error("Error adding exchange data:",e)),b({_index:"",_type:"",_id:"",_score:0,_source:{symbol:"",ticker:"",code:"",isin:"",type:"",wpkn:"",name:"",nameLong:"",region:"",country:"",currency:"",figi:"",cik:"",lei:"",source:"",operatingMIC:"",codeExchange:"",virtualExchange:"",nameExchange:"",isArtificialExchange:!1,segmentExchange:"",segmentNameExchange:""}}),g(!1)},className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-700 transform hover:scale-105 transition-all",children:"Done"})]})]})})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[60,636,593,792],()=>t(232)),_N_E=e.O()}]);